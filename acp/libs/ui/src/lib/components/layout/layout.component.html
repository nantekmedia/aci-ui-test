<!-- <mat-sidenav-container fullscreen class="sidenav-container" autosize> -->
<mat-sidenav-container fullscreen class="sidenav-container">
    <mat-sidenav #drawer class="sidenav" fixedInViewport [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'" [mode]="(isHandset$ | async) ? 'over' : 'side'" [opened]="(isHandset$ | async) === false" (mouseenter)="mouseenter()"
        (mouseleave)="mouseleave()">
        <mat-toolbar color="primary" style="overflow: hidden;">
            <mat-toolbar-row style="text-align: center;">
                <span class="span" style="margin: auto;"><img style="height: 53px;" src="assets/images/Assent-horizontal-white-2016.png">
                </span>
            </mat-toolbar-row>
        </mat-toolbar>

        <mat-nav-list class="disable-select">
            <ng-container *ngFor="let item of menuItems">
                <!-- Without children elements -->
                <ng-container *ngIf="item.children.length === 0">
                    <mat-list-item *hasPermission2="[item.permission]" [routerLink]="'/' + item.route" class="parent">
                        <span *ngIf="item.children.length === 0" class="full-width">{{ item.name | translate }}</span>
                        <mat-icon mat-list-icon>{{item.icon}}</mat-icon>
                        <mat-icon class="menu-button" [ngClass]="{ rotated: item.isOpen }" *ngIf="item.children.length > 0">
                            expand_more</mat-icon>
                    </mat-list-item>
                </ng-container>
                <!-- With children elements -->
                <ng-container *ngIf="item.children.length !== 0">
                    <mat-list-item *hasPermission2="[item.permission]" class="parent" (click)="item.isOpen = !item.isOpen">
                        <span class="full-width">{{ item.name | translate }}</span>
                        <mat-icon mat-list-icon>{{item.icon}}</mat-icon>
                        <mat-icon class="menu-button" [ngClass]="{ rotated: item.isOpen }" *ngIf="item.children.length > 0">
                            expand_more</mat-icon>
                    </mat-list-item>
                </ng-container>
                <!-- Children elements -->
                <ng-container *hasPermission2="[item.permission]">
                    <div *ngIf="item.children.length !== 0" [style.display]="item.isOpen ? 'block' : 'none'">
                        <ng-container *ngFor="let itemChild of item.children">
                            <a *hasPermission2="[itemChild.permission]" style="margin-left: 30px;" mat-list-item [routerLink]="'/' + itemChild.route">
                                {{ itemChild.name | translate }}
                                <!-- {{itemChild.route}} -->
                            </a>
                        </ng-container>
                    </div>
                </ng-container>
            </ng-container>

        </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content fxLayout="column">
        <mat-toolbar color="primary" style="z-index: 1000;">
            <mat-toolbar-row>
                <button type="button" aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()" *ngIf="isHandset$ | async">
                    <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
                </button>
                <div class="h3 app-title pl-2">Assent Compliance Platform</div>
                <span class="example-spacer"></span>
                <!-- <i class="material-icons" style="font-size: 48px; padding-right: 10px;">face</i> -->
                <!-- <div mat-card-avatar class="example-header-image user mr-2"></div> -->
                <div class="user-info">
                    <div class="d-inline-block">
                        <div class="example-header-image mr-3 d-inline-block" [style.backgroundImage]="'url(assets/images/' + userService.getUserById(userService.selectUserId).avator + ')'">
                            <!-- <img class="avator-img" style="height: 45px;" [src]="'assets/images/' + userService.getUserById(userService.selectUserId).avator"> -->
                            <!-- <img class="avator-img" style="height: 45px;" [src]="'assets/nx-logo-white.svg' "> -->
                        </div>
                    </div>

                    <div class="d-inline-block">
                        <!-- <a *ngIf="!isHandset" class="username d-md-none d-lg-block" style="position: relative; top: -15px"> -->
                        <a class="username d-md-none d-lg-none d-xl-block" style="position: relative; top: -15px">
                            <span class="disable-select h-100">{{userService.getUserById(userService.selectUserId).fullName}}</span>
                        </a>
                    </div>
                </div>
                <!-- <a [routerLink]="'/auth/login'" mat-icon-button class="example-icon settings-icon ml-3"
                    aria-label="Example icon-button with heart icon">
                    <mat-icon>settings</mat-icon>
                </a> -->
                <div class="vl ml-4"></div>
                <a [matMenuTriggerFor]="menu" mat-icon-button class="example-icon settings-icon ml-3" aria-label="Example icon-button with heart icon">
                    <mat-icon>settings</mat-icon>
                </a>
                <!-- <a mat-button [matMenuTriggerFor]="menu">
                    <mat-icon>settings</mat-icon>
                </a> -->
                <mat-menu #menu="matMenu">
                    <button mat-menu-item (click)="$event.stopPropagation();">
                        <mat-slide-toggle color="primary" (change)="onValChange($event)">Application Container</mat-slide-toggle>
                    </button>
                </mat-menu>

                <!-- <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu "> -->
                <button mat-icon-button aria-label="Example icon-button with a menu " (click)="langSwitch()">
                    <span class="text-uppercase h4">{{translate.currentLang}}</span>
                </button>

                <button mat-icon-button class="example-icon text-warning mr-3" aria-label="Example icon-button with share icon">
                    <mat-icon>notifications_active</mat-icon>
                </button>
                <div class="vl mr-3"></div>
                <button [routerLink]="'/auth/login'" (click)="userService.logout()" mat-icon-button class="example-icon pr-1 pl-2" aria-label="Example icon-button with share icon">
                    <mat-icon>exit_to_app</mat-icon>
                </button>
            </mat-toolbar-row>
            <!-- <mat-toolbar-row class="mat-primary">
                <h1>{{subHeaderService.title}}</h1><div class="float-right w-100"><button class="btn btn-dark">test</button></div>
            </mat-toolbar-row> -->

            <mat-toolbar-row class="mat-primary w-100" style="height: 55px">

                <div class="w-50 pl-2">
                    <h1>{{pageTitle | translate}}</h1>
                </div>
                <div class="w-75 text-right pr-2" fxLayout="row" fxLayoutAlign="space-around center">
                    <!-- <button class="btn btn-secondary mr-1">Add</button>
                    <button class="btn btn-secondary mr-1">Update</button>
                    <button class="btn btn-secondary mr-1">Remove</button>
                    <div class="input-group d-inline-block" style="width: 400px;">
                        <input style="width: 300px; border: 2px solid rgb(192, 186, 186);" type="text" class="form-control d-inline-block" placeholder="" aria-label="" aria-describedby="basic-addon1">
                        <div class="input-group-append d-inline-block">
                            <button class="btn btn-secondary" type="button">Search</button>
                        </div>
                    </div> -->
                </div>
            </mat-toolbar-row>
        </mat-toolbar>

        <!-- Add Content Here -->
        <div class="wrapper pt-4 pr-4 pl-4" [ngClass]="{'wrapper': showAppContainer}">
            <div class="container-fluid">
                <router-outlet></router-outlet>
            </div>
        </div>

    </mat-sidenav-content>
</mat-sidenav-container>